<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Contractor_Lead_Notification</fullName>
        <description>Contractor Lead Notification</description>
        <protected>false</protected>
        <recipients>
            <recipient>adrian.raso@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Ops_Internal_Email_Templates/LeadsNewNotification</template>
    </alerts>
    <alerts>
        <fullName>New_Lead_Notification</fullName>
        <description>New Lead Notification</description>
        <protected>false</protected>
        <recipients>
            <recipient>colby.shosted@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>ryanheck@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Ops_Internal_Email_Templates/LeadsNewNotification</template>
    </alerts>
    <alerts>
        <fullName>New_Web_Lead_Notification</fullName>
        <description>New Web Lead Notification</description>
        <protected>false</protected>
        <recipients>
            <recipient>colby.shosted@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>jessica.feemster@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Ops_Internal_Email_Templates/LeadsNewNotification</template>
    </alerts>
    <alerts>
        <fullName>New_Web_Lead_Notification_Web_Consumer</fullName>
        <description>New Web Lead Notification Web/Consumer</description>
        <protected>false</protected>
        <recipients>
            <recipient>matt.cazer@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>ryanheck@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Ops_Internal_Email_Templates/LeadsNewNotification</template>
    </alerts>
    <alerts>
        <fullName>New_Web_Lead_Notification_Web_Contractor</fullName>
        <description>New Web Lead Notification Web/Contractor</description>
        <protected>false</protected>
        <recipients>
            <recipient>aaron.lewis@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>ryanheck@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Ops_Internal_Email_Templates/LeadsNewNotification</template>
    </alerts>
    <alerts>
        <fullName>New_Web_Lead_Notification_Web_NOT_Contractor_or_Consumer</fullName>
        <description>New Web Lead Notification Web NOT Contractor or Consumer</description>
        <protected>false</protected>
        <recipients>
            <recipient>colby.shosted@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>jessica.feemster@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>ryanheck@taskeasy.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Ops_Internal_Email_Templates/LeadsNewNotification</template>
    </alerts>
    <fieldUpdates>
        <fullName>Update_Gil_Sent_Date</fullName>
        <field>Sent_to_Gil_Date__c</field>
        <formula>NOW()</formula>
        <name>Update Gil Sent Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Lead_Status_Date</fullName>
        <field>Status_Change_Date__c</field>
        <formula>NOW()</formula>
        <name>Update Lead Status Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Owner</fullName>
        <field>OwnerId</field>
        <lookupValue>matt.cazer@taskeasy.com</lookupValue>
        <lookupValueType>User</lookupValueType>
        <name>Update Owner</name>
        <notifyAssignee>true</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Owner_Web_Contractor</fullName>
        <description>Updates owner when criteria is met</description>
        <field>OwnerId</field>
        <lookupValue>aaron.lewis@taskeasy.com</lookupValue>
        <lookupValueType>User</lookupValueType>
        <name>Update Owner Web/Contractor</name>
        <notifyAssignee>true</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Owner_web_NOT_Contractor_Consumer</fullName>
        <field>OwnerId</field>
        <lookupValue>Sales_Leads</lookupValue>
        <lookupValueType>Queue</lookupValueType>
        <name>Update Owner web NOT Contractor/Consumer</name>
        <notifyAssignee>true</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <outboundMessages>
        <fullName>Contractor_Lead_Gil_Account</fullName>
        <apiVersion>52.0</apiVersion>
        <endpointUrl>https://prod.taskeasy.com/integration/gtep-service/formAssembly/contractor/signup</endpointUrl>
        <fields>Capabilities__c</fields>
        <fields>City</fields>
        <fields>Company</fields>
        <fields>Email</fields>
        <fields>Id</fields>
        <fields>Latitude</fields>
        <fields>Longitude</fields>
        <fields>Phone</fields>
        <fields>PostalCode</fields>
        <fields>State</fields>
        <fields>Street</fields>
        <fields>Website</fields>
        <fields>birthDate__c</fields>
        <fields>cbsaZoneCode__c</fields>
        <fields>companyAddress__c</fields>
        <fields>foundedDate__c</fields>
        <fields>loginName__c</fields>
        <fields>ownersName__c</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>jared.wangsgard@taskeasy.com</integrationUser>
        <name>Contractor Lead - Gil Account</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <rules>
        <fullName>Assign Ownership</fullName>
        <actions>
            <name>New_Web_Lead_Notification</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Update_Owner</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Lead.LeadSource</field>
            <operation>equals</operation>
            <value>Web</value>
        </criteriaItems>
        <description>Assigns ownership when the lead source EQUALS &quot;Web&quot; Only on creation</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Assign Ownership Web NOT EQUAL  Contractor or Consumer</fullName>
        <actions>
            <name>New_Web_Lead_Notification_Web_NOT_Contractor_or_Consumer</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Lead.LeadSource</field>
            <operation>equals</operation>
            <value>Web</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Assign Ownership Web%2FConsumer</fullName>
        <actions>
            <name>New_Web_Lead_Notification_Web_Consumer</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Update_Owner</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Lead.LeadSource</field>
            <operation>equals</operation>
            <value>Web</value>
        </criteriaItems>
        <criteriaItems>
            <field>Lead.Status</field>
            <operation>equals</operation>
            <value>Consumer</value>
        </criteriaItems>
        <description>Assigns ownership and sends notification when the lead source EQUALS &quot;Web&quot; and Status EQUALS &quot;Consumer&quot; Only on creation</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Assign Ownership Web%2FContractor</fullName>
        <actions>
            <name>New_Web_Lead_Notification_Web_Contractor</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Update_Owner_Web_Contractor</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Lead.LeadSource</field>
            <operation>equals</operation>
            <value>Web</value>
        </criteriaItems>
        <criteriaItems>
            <field>Lead.Status</field>
            <operation>equals</operation>
            <value>Contractor</value>
        </criteriaItems>
        <description>Assigns ownership and sends notification when the lead source EQUALS &quot;Web&quot; and Status EQUALS &quot;Contractor&quot; Only on creation</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Lead - Gill Account Creation</fullName>
        <actions>
            <name>Update_Gil_Sent_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Contractor_Lead_Gil_Account</name>
            <type>OutboundMessage</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Lead.Application_Submission_Date__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Lead.Sent_to_Gil_Date__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Lead.RecordTypeId</field>
            <operation>equals</operation>
            <value>Contractor Lead</value>
        </criteriaItems>
        <criteriaItems>
            <field>Lead.Latitude__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Lead.Longitude__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Lead Status Changed Date%2FTime</fullName>
        <actions>
            <name>Update_Lead_Status_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Used to update the lead status changed date field for average age reporting on leads</description>
        <formula>ISCHANGED(Status_Change_Date__c)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
